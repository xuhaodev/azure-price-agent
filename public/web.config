<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>
    <!-- 
      Azure Web App configuration for Server-Sent Events (SSE) support
      This prevents IIS from buffering SSE streams
    -->
    <httpProtocol>
      <customHeaders>
        <!-- Disable buffering for SSE -->
        <add name="X-Accel-Buffering" value="no" />
        <add name="Cache-Control" value="no-cache, no-transform" />
      </customHeaders>
    </httpProtocol>
    
    <!-- Increase timeout for long-running SSE connections -->
    <aspNetCore requestTimeout="00:10:00" />
    
    <!-- Disable response buffering -->
    <serverRuntime frequentHitThreshold="1" frequentHitTimePeriod="00:00:01" />
  </system.webServer>
</configuration>
